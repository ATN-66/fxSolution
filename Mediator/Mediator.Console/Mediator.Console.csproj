<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net7.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <LangVersion>latest</LangVersion>
  </PropertyGroup>

  <PropertyGroup>
    <RuntimeIdentifier>win-x64</RuntimeIdentifier>
    <PublishSingleFile>true</PublishSingleFile>
    <PublishTrimmed>true</PublishTrimmed>
    <SelfContained>true</SelfContained>
    <IncludeNativeLibrariesForSelfExtract>true</IncludeNativeLibrariesForSelfExtract>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Google.Protobuf" Version="3.22.4" />
    <PackageReference Include="Grpc.Core" Version="2.46.6" />
    <PackageReference Include="Grpc.Core.Api" Version="2.53.0" />
    <PackageReference Include="Grpc.Tools" Version="2.54.0">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.Bcl.AsyncInterfaces" Version="7.0.0" />
    <PackageReference Include="Microsoft.Extensions.Configuration" Version="7.0.0" />
    <PackageReference Include="Microsoft.Extensions.DependencyInjection" Version="7.0.0" />
    <PackageReference Include="Microsoft.Extensions.Hosting" Version="7.0.1" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\Mediator.Client.Mediator.To.Terminal\Mediator.Client.Mediator.To.Terminal.csproj" />
    <ProjectReference Include="..\Mediator.Processors\Mediator.Processors.csproj" />
    <ProjectReference Include="..\Mediator.Repository.Interfaces\Mediator.Repository.Interfaces.csproj" />
    <ProjectReference Include="..\Mediator.Repository\Mediator.Repository.csproj" />
    <ProjectReference Include="..\Mediator.Server.Indicator.To.Mediator\Mediator.Server.Indicator.To.Mediator.csproj" />
    <ProjectReference Include="..\Mediator.Server.Terminal.To.Mediator\Mediator.Server.Terminal.To.Mediator.csproj" />
  </ItemGroup>

  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Exec Command="xcopy &quot;D:\forex\tickstory\tickstory.com.scripts\MS-SQL\01_CREATE_DATABASE_AND_TABLES.sql&quot; &quot;\\UNIT1068\Users\Public\Downloads\MS-SQL\&quot; /Y /R&#xD;&#xA;xcopy &quot;D:\forex\tickstory\tickstory.com.scripts\MS-SQL\02_CREATE_TYPE_QuotationTableType.sql&quot; &quot;\\UNIT1068\Users\Public\Downloads\MS-SQL\&quot; /Y /R&#xD;&#xA;xcopy &quot;D:\forex\tickstory\tickstory.com.scripts\MS-SQL\03_CREATE_PROCEDURE_InsertQuotations.sql&quot; &quot;\\UNIT1068\Users\Public\Downloads\MS-SQL\&quot; /Y /R&#xD;&#xA;xcopy &quot;D:\forex\tickstory\tickstory.com.scripts\MS-SQL\04_CREATE_PROCEDURE_GetQuotationsByWeek.sql&quot; &quot;\\UNIT1068\Users\Public\Downloads\MS-SQL\&quot; /Y /R&#xD;&#xA;xcopy &quot;D:\forex\tickstory\tickstory.com.scripts\MS-SQL\05_CREATE_PROCEDURE_GetQuotationsByWeekAndDay.sql&quot; &quot;\\UNIT1068\Users\Public\Downloads\MS-SQL\&quot; /Y /R&#xD;&#xA;rem xcopy &quot;$(TargetDir)*.*&quot; &quot;\\UNIT1068\Users\Public\Downloads\Mediator&quot; /Y /R" />
  </Target>

</Project>
